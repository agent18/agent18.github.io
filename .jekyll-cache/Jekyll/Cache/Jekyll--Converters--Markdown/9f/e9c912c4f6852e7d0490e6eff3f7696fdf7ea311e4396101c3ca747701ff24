I"zY<h2 id="emacs-latex-mode-quick-start-guide">Emacs LaTeX mode quick start guide</h2>

<p>We are trying use AUCTEX. Apparently <a href="https://stackoverflow.com/a/17778046/5986651">AUCTEX mode is given by</a>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LaTeX-mode
</code></pre></div></div>

<p>and shows as <code class="language-plaintext highlighter-rouge">LaTeX\P</code> in when we do <code class="language-plaintext highlighter-rouge">C-h m</code>.</p>

<p><strong>Emacs hooks</strong> are based on commands like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(add-hook 'LaTeX-mode-hook 'linum-mode)
</code></pre></div></div>

<p><strong>Run emacs</strong></p>

<p><code class="language-plaintext highlighter-rouge">C-c C-c</code> and then followed by typing <code class="language-plaintext highlighter-rouge">*mk</code> so that it “compiles” with
<code class="language-plaintext highlighter-rouge">LaTeXmk</code>.</p>

<p><strong>Folding</strong></p>

<p><code class="language-plaintext highlighter-rouge">Tab</code> does folding.</p>

<p><strong>Keybindings</strong></p>

<p><code class="language-plaintext highlighter-rouge">C-c C-e</code> –&gt; add environment</p>

<p><code class="language-plaintext highlighter-rouge">C-c ret</code> –&gt; add macros such as <code class="language-plaintext highlighter-rouge">\item</code> etc…</p>

<h2 id="error-fontspec-cannot-use-pdf-tex-engine">Error <code class="language-plaintext highlighter-rouge">fontspec</code> cannot use pdf-tex engine</h2>

<pre><code class="language-tex-error">ERROR: Fatal fontspec error: "cannot-use-pdftex"

--- TeX said ---
! 
! The fontspec package requires either XeTeX or LuaTeX.
! 
! You must change your typesetting engine to, e.g., "xelatex" or
! "lualatex"instead of plain "latex" or "pdflatex".
! 
! See the fontspec documentation for further information.
! 
! For immediate help type H &lt;return&gt;.
</code></pre>

<p><strong>Please add the following to the end of the file and reopen it.</strong></p>

<p>From <a href="https://tex.stackexchange.com/a/21212/97901">here</a>.</p>

<div class="language-LaTeX highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%%% Local Variables: </span>
<span class="c">%%% coding: utf-8</span>
<span class="c">%%% mode: latex</span>
<span class="c">%%% TeX-engine: xetex</span>
<span class="c">%%% End: </span>
</code></pre></div></div>
<p><strong>Check version of auctex by</strong></p>

<p><code class="language-plaintext highlighter-rouge">C-h v AUCTEx-version</code></p>

<h2 id="goal">Goal</h2>

<p>I would like to write my resume and cover letter in Emacs. With this
post I want to log what all I did to setup Emacs and how to get Latex
working.</p>

<p>I would I ideally want a pdf on the right (within or not within
Emacs), and left side to have the text.</p>

<p>How to easily install auctex?</p>

<p>How to manage packages within auctex?</p>

<p>How to display the pdf output?</p>

<p>how do make a simple document with hello world.</p>

<h2 id="info">Info</h2>

<blockquote>
  <p>The AUCTeX package provides more advanced features for editing TeX
and its related formats, including the ability to preview TeX
equations within Emacs buffers. Unlike BibTeX mode and the RefTeX
package, AUCTeX is not distributed with Emacs by default.</p>
</blockquote>

<p><a href="http://www.gnu.org/software/auctex/manual/auctex.html#Completion">AUCTeX also provides auto-completion for TeX commands</a>.</p>

<blockquote>
  <p>AUCTeX provides some LaTeX specific commands which you should learn,
make sure to checkout the commands for creating macros, C-c Enter,
and environments, C-c C-e, LaTeX-math-mode and the RefTeX commands
for inserting citations and cross-references</p>
</blockquote>

<p>Apprently there is this thing called YASnippet as described in
<a href="https://tex.stackexchange.com/questions/51204/working-with-templates/51250#51250">Working with templates</a>.</p>

<h3 id="compiling">Compiling</h3>

<blockquote>
  <p>When it comes to compiling you can use latexmk as described above but
you can also use AUCTeX built-in compiling method which is quite good
(C-c C-c). To view the output of the current buffer simply do C-c
C-v.</p>
</blockquote>

<h2 id="latex-for-linux">Latex for linux</h2>

<p>I started with this <a href="https://tex.stackexchange.com/questions/50827/a-simpletons-guide-to-tex-workflow-with-emacs">simpletons guide, which was not
really simple</a>.</p>

<blockquote>
  <p>If you’re using a distro which packages LaTeX (almost all will do)
then look for texlive or tetex. TeX Live is the newer of the two, and
is replacing tetex on most distributions now. -<a href="https://stackoverflow.com/a/1017170/5986651">stack</a></p>
</blockquote>

<p><a href="https://stackoverflow.com/a/1017170/5986651">Latex for linux </a> stack website suggests the use of <code class="language-plaintext highlighter-rouge">texlive</code>
package. This allows for the use of latex in all its glory. There are
<a href="https://tex.stackexchange.com/questions/245982/differences-between-texlive-packages-in-linux/246215">different packages</a>/types of installations such as:</p>

<blockquote>
  <p>texlive-full
texlive-latex-base
texlive-latex-extra
texlive-latex-recommended
texlive-generic-extra</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">texlive-full</code> probably has everything. <code class="language-plaintext highlighter-rouge">texlive-latex-base</code> contains
essential packages and so on.</p>

<blockquote>
  <p>You can always just start with texlive-latex-base and then just
install the collections you need. (To find a collection with a
package in use <code class="language-plaintext highlighter-rouge">apt-cache search pacakge</code>) There is no good way yet to
install individual packages in Ubuntu, as <code class="language-plaintext highlighter-rouge">tlmgr</code> will run in user mode
(installing packages only for one user). - <a href="https://tex.stackexchange.com/questions/245982/differences-between-texlive-packages-in-linux/246215">stack</a></p>
</blockquote>

<p>Point being that I might run into problems later if I need this for
more than one user. Unlikely to be my case. If that is what happens
then I can always remove and install the full thing. For now I see
this as an opportunity to understand and install what I need, to get
knowledge regarding this.</p>

<p>So I think I did</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install texlive-latex-base
</code></pre></div></div>

<p>To check if a package is installed use</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt list --installed texlive-latex-base
</code></pre></div></div>

<p>output:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>texlive-latex-base/xenial-updates,xenial-updates,xenial-security,xenial-security,now 2015.20160320-1ubuntu0.1 all [installed]
N: There is 1 additional version. Please use the '-a' switch to see it
</code></pre></div></div>

<h2 id="configuring-emacs-to-work-with-auctex">Configuring emacs to work with AUCTeX</h2>

<p>How this whole thing will look is shown as in the video <a href="https://www.youtube.com/watch?v=UjprbZl_m6Y">here</a>, it is a good start to
get a feel of what is happening!</p>

<p>Apparently you need latexmk</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install latexmk
</code></pre></div></div>

<p>But it is a package in emacs? I thought and I removed it along with
dependencies using</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get purge latexmk
sudo apt-get purge --auto-remove latexmk
</code></pre></div></div>

<p>But it turns out you need latexmk (latex make)</p>

<blockquote>
  <p>LatexMk is a Perl script for running LaTeX the correct number of
times to resolve cross references, etc; it also runs auxiliary
programs (bibtex, makeindex if necessary, and dvips and/or a
previewer as requested) — <a href="https://www.emacswiki.org/emacs/LatexMk">emacswiki on latexmk</a></p>
</blockquote>

<p>So I don’t know any more about it other than that it is needed for
something and everyone seems to be using it. In case I had bib or
something, it would take care of running Latex the necessary number of
times.</p>

<p>So</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install latexmk
</code></pre></div></div>

<p>Add to init file based on the <a href="https://github.com/tom-tan/auctex-latexmk">git repo</a>. Install <code class="language-plaintext highlighter-rouge">auctex-latexmk</code>
and then</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(require 'auctex-latexmk)
(auctex-latexmk-setup)
</code></pre></div></div>

<p>In the case of my init file this is accomplished by adding
<code class="language-plaintext highlighter-rouge">auctex-latexmk</code> to the list of packages to be installed and then
adding <code class="language-plaintext highlighter-rouge">(auctex-latexmk-setup)</code> to the <code class="language-plaintext highlighter-rouge">packages-init.el</code>.</p>

<h2 id="running-emacs">Running emacs</h2>
<p>This seems to be the basic setup that you need to type <code class="language-plaintext highlighter-rouge">C-c C-c</code> and
start with <code class="language-plaintext highlighter-rouge">latexmk</code> to make all the necessary files. And then <code class="language-plaintext highlighter-rouge">C-c
C-c</code> with <code class="language-plaintext highlighter-rouge">View</code> to display PDF. Viewing is only done once to open a PDF.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TeX-evince-sync-view
</code></pre></div></div>

<p><a href="https://tex.stackexchange.com/questions/106889/change-view-command-in-emacs-and-auctex-pdf-mode">souce</a></p>

<h2 id="hooks">Hooks</h2>

<ul>
  <li>
    <p>Line number</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  (add-hook 'LaTeX-mode-hook 'linum-mode)
</code></pre></div>    </div>
  </li>
  <li>
    <p>folding</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  (add-hook 'TeX-mode-hook
    (lambda () (TeX-fold-mode 1))); Automatically activate
              ; TeX-fold-mode.
</code></pre></div>    </div>
  </li>
</ul>

<p>There are a lot of hot keys to remember if you want to fold using
TeX-mode-hook <a href="ftp://ftp.tu-clausthal.de/pub/mirror/gnu/www/software/auctex/manual/html_node/Folding.html">as mentioned here</a></p>

<ul>
  <li>
    <p>folding like <code class="language-plaintext highlighter-rouge">org-mode</code> with <code class="language-plaintext highlighter-rouge">outline-minor-mode</code> or <code class="language-plaintext highlighter-rouge">Latex-extra</code>
as explained <a href="https://emacs.stackexchange.com/a/362/17941">here</a></p>

    <p>(add-hook ‘LaTeX-mode-hook #’latex-extra-mode)
(add-hook ‘LaTeX-mode-hook #’outline-minor-mode)</p>
  </li>
</ul>

<p>The keybinds it defines are a little hard to use for <code class="language-plaintext highlighter-rouge">outline-minor-mode</code>, so you might want to change some of them.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C-c @ C-a       show-all
C-c @ C-c       hide-entry
</code></pre></div></div>

<p>For <code class="language-plaintext highlighter-rouge">Latex-extra</code></p>

<blockquote>
  <p>Similar to how org-mode hides and displays of subtrees, if you hit
TAB on a section header latex-extra will hide the contents of that
section for you. Hitting tab twice will expand it again.  This will
not interfere with whatever with other keybinds you have set for TAB,
such as yasnippet or auto-completion.  Shift-TAB will do the same for
the entire buffer.  Of course, the same goes for chapters,
subsections, etc.</p>
</blockquote>

<p>This is what I want!</p>

<h2 id="preview-latex">preview-latex</h2>

<p><code class="language-plaintext highlighter-rouge">AUCTeX</code> already comes with <code class="language-plaintext highlighter-rouge">preview-LaTeX</code> apparently. The power of
it can be seen in this <a href="https://www.youtube.com/watch?v=atIhEDQSI1U">video</a>. It apprently can preview within the
editor how say equations will acutally look, how plots will actually
look.</p>

<h2 id="info--engines-compilers">Info- engines/ compilers</h2>

<blockquote>
  <p>Engines: TeX, pdfTeX, XeTeX, LuaTeX, … These are the actual
executable binaries which implement the different TeX dialects. The
LaTeX format is implemented with both the pdfTeX (pdflatex) and
XeTeX (xelatex) engines, for example. When someone says “TeX can’t
find my fonts”, they usually mean an engine.</p>
</blockquote>

<blockquote>
  <p>Formats: LaTeX, plain TeX, pdfLaTeX, … These are the TeX-based
languages in which you actually write documents. When someone says
“TeX is giving me this mysterious error”, they usually mean a
format.</p>

  <p>At a high level, the output format that gets used depends on the
program you invoke. If you run latex (which implements the LaTeX
format), you will get DVI; if you run pdflatex (which also
implements the LaTeX format), you will get PDF.</p>
</blockquote>

<blockquote>
  <p>pdflatex is a terminal command that tells the pdfTeX engine to use
the LaTeX format.
— <a href="https://tex.stackexchange.com/a/63995/97901">stack</a></p>
</blockquote>

<p>According to the source mentioned below, you can choose engine by</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>M-x customize-variable RET
TeX-engine RET
</code></pre></div></div>

<p>Also you can check which engine is being used now:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C-h v TeX-engine
</code></pre></div></div>

<p><a href="https://tex.stackexchange.com/questions/53530/how-to-change-default-compiler">Source</a></p>

<h3 id="diff-type-of-engines-and-meanings-and-usage-in-emacs">Diff type of engines and meanings and usage in emacs</h3>

<p><a href="https://tex.stackexchange.com/a/13601/97901">Source</a></p>

<p><a href="https://tex.stackexchange.com/questions/21200/auctex-and-xetex">How to choose other engines/compilers</a></p>

<h2 id="resume">Resume</h2>

<h3 id="1-page-academic-cvs">1 page academic CV’s</h3>

<p>https://www.quora.com/What-are-some-elegant-serious-LaTeX-templates-for-an-academic-CV</p>

<p>Widely known 1 column CV 1 page</p>

<p>http://www.tjansson.dk/2009/03/writing-a-cv-in-latex/</p>

<p>MIT format</p>

<p>https://github.com/sb2nov/resume</p>

<h2 id="error-handling-with-latexmk">Error handling with latexmk</h2>

<p>Dealt with as and when the need arises! After a compile if you get errors.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C-c `
</code></pre></div></div>

<p>Look for error online and then go</p>
<h3 id="finding-things-in-a-package">finding things in a package</h3>

<p>On http://packages.ubuntu.com/ you can search for packages containing
some file.</p>

<p><a href="https://askubuntu.com/questions/822996/error-message-when-compiling-latex-in-ubuntu">Source</a></p>

<p>Instead of using the website it is also possible to do it in the
terminal</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-file find kpfonts.sty
</code></pre></div></div>

<p>Check if the suggested package is already installed</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt list --installed texlive-fonts-extra
</code></pre></div></div>

<p>If not install it.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install texlive-fonts-extra
</code></pre></div></div>

<h3 id="package-missing">Package missing</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">marvosym</code> missing,</p>

    <p>sudo apt-get install texlive-fonts-recommended</p>
  </li>
</ul>

<p><a href="https://tex.stackexchange.com/questions/4264/latex-error-file-marvosym-sty-not-found">Source</a></p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fonstpec.sty</code> not found</p>

    <p>Found that it was in <code class="language-plaintext highlighter-rouge">texlive-latex-recommended</code> from
  http://packages.ubuntu.com/. and installed it.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  apt list --installed texlive-latex-recommended
  sudo apt-get install texlive-latex-recommended
</code></pre></div>    </div>
  </li>
  <li>
    <p>At this point I get an error : <code class="language-plaintext highlighter-rouge">“Latex: problems after [0] pages”</code></p>
  </li>
</ul>

<p>No use searching online. So I changed to <code class="language-plaintext highlighter-rouge">luatex</code> with <code class="language-plaintext highlighter-rouge">C-h v
TeX-engine</code> and then I got these and followed the same way as above.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">luaotfload.sty</code> is missing</p>

    <p>installed <code class="language-plaintext highlighter-rouge">texlive-luatex</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">xunicode.sty</code> is missing</p>

    <p>install <code class="language-plaintext highlighter-rouge">texlive-xetex</code>??? but it works</p>

    <p><a href="https://tex.stackexchange.com/a/328221/97901">Source</a></p>
  </li>
</ul>

<h3 id="no-pdf-display">No PDF display</h3>

<p>So usually when you hit <code class="language-plaintext highlighter-rouge">C-c C-c</code> the second time you will see the
<code class="language-plaintext highlighter-rouge">View: TeX-evince-sync-view</code> or something very similar. But I saw some
<code class="language-plaintext highlighter-rouge">.dvi</code> stuff written. <code class="language-plaintext highlighter-rouge">PDF</code> did not get updated except that it got
created the first time. but that is that. What helped–and I don’t
know why– is <a href="https://tex.stackexchange.com/a/418420/97901">this stack answer</a>. Jesus man I don’t know WTF if
happening but it helped.</p>

<blockquote>
  <p>With the latest version of AUCTeX, if should be sufficient to
customize the variable TeX-PDF-from-DVI as described in the
manual. Try M-x customize-variable RET TeX-PDF-from-DVI RET , click
on Value Menu and choose dvips - ps2pdf sequence, hit Apply and Save
and you should be done.</p>
</blockquote>

<div class="language-LaTeX highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="na">[10pt,a4paper]</span><span class="p">{</span>article<span class="p">}</span>
<span class="nt">\begin{document}</span>
foobar
<span class="nt">\end{document}</span>

<span class="c">%%% Local Variables:</span>
<span class="c">%%% mode: latex</span>
<span class="c">%%% TeX-master: t</span>
<span class="c">%%% TeX-PDF-mode: t</span>
<span class="c">%%% TeX-PDF-from-DVI: "Dvipdfmx"</span>
<span class="c">%%% End:</span>
</code></pre></div></div>
<p>There is some explanation but the thing is if you do <code class="language-plaintext highlighter-rouge">C-c C-c</code>
repeatedly all is good, PDF works and everything displays as
expected. Or just to <code class="language-plaintext highlighter-rouge">C-c C-a</code>.</p>

<p>Peace</p>

<h2 id="bib">bib</h2>

<p>Currently I have nothing setup for it. Read here for more info:
https://tex.stackexchange.com/questions/25701/bibtex-vs-biber-and-biblatex-vs-natbib</p>

<p><code class="language-plaintext highlighter-rouge">*.bib</code> file is what we need with the bib info which is then converted
by Latex appropriately with the appropriate commands!</p>

<h2 id="reflection">Reflection</h2>

<p>I probably spend too much time just trying to understand things too
well (parkinsons law). I am making notes, if I have to do this
again. I suspect I might have to do this every 5 years once I loose
the LTS of ubuntu. I am trying to understand on a high level what
exactly I am doing. I suspect it to be useful in debugging and keeping
track of what I have done to my pc, adding packages and removing them
in case of conflicts as and when necessary. Learning in some sense,
just-enough and possibly also more than just-enough.</p>

<p>I look at these notes after 3 months and I feel like I am on track,
all knowledge is saved in a seemingly clear format to pick up
from. Although maybe I could regain this knowledge, but also I think
it is painful to search your ass off and start again.</p>

<h2 id="references">References</h2>

<p><a href="https://www.emacswiki.org/emacs/AUCTeX">Emacs-wiki</a>
<a href="https://tex.stackexchange.com/questions/50827/a-simpletons-guide-to-tex-workflow-with-emacs">Guide to emacs, as stack question</a>
<a href="https://tex.stackexchange.com/questions/20843/useful-shortcuts-or-key-bindings-or-predefined-commands-for-emacsauctex">auctex key-bindings</a>
<a href="https://www.gnu.org/software/auctex/manual/auctex.html#Quick-Start">quick start to Auctex by GNU</a>
<a href="https://tex.stackexchange.com/questions/19856/auctex-extension-for-tikz">AucTeX extension for TikZ</a>
<a href="https://github.com/agent18/emacs-config">my init file / config</a></p>

<h2 id="appendix-what-is-memoir-beamer-and-tix">Appendix: What is memoir, beamer and tix</h2>

<p>I see this word appearing now and then in the <a href="https://tex.stackexchange.com/questions/50827/a-simpletons-guide-to-tex-workflow-with-emacs">Guide to emacs, as
stack question</a>, “memoir”. A <a href="https://texblog.org/2012/07/03/fancy-latex-chapter-styles/">quick investigation</a> shows that it
is a document class which is more flexible in terms of chapter styles,
than ‘report’ or ‘book’.</p>

<p><a href="https://www.sharelatex.com/learn/Beamer">Beamer </a> is for creating powerful presentations.</p>

<p><a href="https://www.sharelatex.com/learn/TikZ_package">Tikz</a> is for creating graphics elements. Such as adding plot
details legends etc.. with data points or, even just creating and
drawing lines as necessary.</p>
:ET