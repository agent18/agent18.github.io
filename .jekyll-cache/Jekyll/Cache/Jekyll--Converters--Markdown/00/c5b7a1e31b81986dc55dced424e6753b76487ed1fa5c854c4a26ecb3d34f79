I"U<h2 id="setting-up-gh-pages-with-jekyll">setting up gh-pages with jekyll</h2>

<h3 id="jekyll">Jekyll</h3>
<p>Start [here][jekyll_welcome] to understand what jekyll is and move on to the next
page to see some instructions on how to get started. We need jekyll
and bundler installed via gem. I found a nice help on <a href="https://stackoverflow.com/a/34523631/5986651">this stack
website</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3

\curl -sSL https://get.rvm.io | bash # install RVM (development version)

rvm get head # Make Sure RVM up to date
</code></pre></div></div>

<p>Got some errors here. Apprently the license was not updated. followed
exactly what the error msg suggested me to do.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GPG signature verification failed for '/home/eghx/.rvm/archives/rvm-installer' - 'https://raw.githubusercontent.com/rvm/rvm/master/binscripts/rvm-installer.asc'! Try to install GPG v2 and then fetch the public key:

gpg2 --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3

or if it fails:

command curl -sSL https://rvm.io/mpapis.asc | gpg2 --import -

the key can be compared with:

https://rvm.io/mpapis.asc
https://keybase.io/mpapis

NOTE: GPG version 2.1.17 have a bug which cause failures during fetching keys from remote server. Please downgrade or upgrade to newer version (if available) or use the second method described above.
</code></pre></div></div>

<p>I didn’t compare the key though. Just checked if the next steps
worked.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rvm get head

rvm install ruby # will install latest version of ruby

rvm list # Listing install rubies will you get versions of ruby which is installed by RVM

rvm use &lt; ruby-version &gt; # for instances ruby-1.9.3-p125

gem install jekyll bundler
</code></pre></div></div>

<p>After installing Jekyll(fingers crossed):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ jekyll new my-awesome-site # initiates jekyll into current folder named "my-awesome-site"	
$ cd .../.../my-awesome-site # go to that folder we just created "my-awesome-site"
$ jekyll serve  # hosts site locally
</code></pre></div></div>

<p>Should serve a local website (details in the terminal) that you can open and see on your browser. Yes you already have a local website! Congratulations!</p>

<p><strong>On a fresh terminal RVM does not work</strong></p>

<p>Jekyll might not work the next time you open a new terminal <a href="https://stackoverflow.com/questions/23963018/rvm-is-not-a-function-selecting-rubies-with-rvm-use-will-not-work?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa">like here.</a></p>

<p>The above has the solution that brings back the use of jekyll rvm
etc…</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Open console
Select Edit -&gt; Profile Preferences
Select tab: Title and Command
Check box 'Run command as a login shell'
Restart terminal
</code></pre></div></div>

<p>Jekyll would be smoothly installed.</p>

<hr />

<h3 id="gh-pages-setup">gh-pages setup</h3>

<p>This has been been tested on okt 18th.</p>

<ol>
  <li>Repository name: “username.github.io”</li>
  <li>branch: Master/Main</li>
  <li>Don’t choose theme</li>
  <li>No readme or anything to be added</li>
</ol>

<p>Following are the commands that need to be executed based on <a href="https://docs.github.com/en/free-pro-team@latest/github/working-with-github-pages/creating-a-github-pages-site-with-jekyll">gh-pages</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll new my-awesome-site
cd my-awesome-site
jekyll serve
</code></pre></div></div>

<p>More about Jekyll file structure on the <a href="https://jekyllrb.com/docs/themes/">Jekyll website</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd my-awesome-site # go inside the jekyll folder
git init # initializes the local repository into a git recognizable.
git add . 
git commit -m "First commit" 
git push # won't work

git remote add origin "remote url of repo"
git push -u origin main
git status
</code></pre></div></div>

<p>Add this @ some point (the terminal will most likely suggest the
following two):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global user.email "agent18@github.io"
	
git config --global user.name "agent18"

git config --global push.default simple
</code></pre></div></div>

<h3 id="restoring-sites-folders-and-files">restoring sites folders and files?</h3>

<p><a href="https://jekyllrb.com/docs/themes/">Jekyll main</a></p>

<p><a href="https://stackoverflow.com/questions/59913903/how-to-run-bundle-exec-jekyll-new">There is a way here</a></p>

<p><a href="https://docs.github.com/en/free-pro-team@latest/github/working-with-github-pages/creating-a-github-pages-site-with-jekyll">gh-pages instructions on how to do it</a></p>

<h3 id="adding-favicon">Adding favicon</h3>

<p>Source: <a href="https://medium.com/@xiang_zhou/how-to-add-a-favicon-to-your-jekyll-site-2ac2179cc2ed">how to add favicon to your site</a></p>

<p>Find out where minima is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle show minima
</code></pre></div></div>

<p>copy the <code class="language-plaintext highlighter-rouge">head.html</code> you wanna change to <code class="language-plaintext highlighter-rouge">_includes</code> and then add
after <code class="language-plaintext highlighter-rouge">&lt;meta name="viewport"...</code> line.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"icon"</span> <span class="na">type=</span><span class="s">"image/png"</span> <span class="na">href=</span><span class="s">"./images/favicon.png"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<h3 id="removing-jekyll-website-names-based-on-categories-and-date">Removing Jekyll website names based on categories and date</h3>

<p>Source: <a href="https://jekyllrb.com/docs/permalinks/">permalink on jekyll site</a></p>

<p>Add this to every post <code class="language-plaintext highlighter-rouge">front matter</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>permalink: /:title.html
</code></pre></div></div>

<h3 id="adding-math-capabilities">adding math capabilities</h3>

<p>Source: <a href="https://stackoverflow.com/a/46765337/5986651">how to use math with github pages and jekyll</a></p>

<p>Add the following to the end of the <code class="language-plaintext highlighter-rouge">head.html</code> file.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/x-mathjax-config"</span><span class="nt">&gt;</span>
    <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span>
      <span class="na">tex2jax</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">skipTags</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">script</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">noscript</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">style</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">textarea</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">pre</span><span class="dl">'</span><span class="p">],</span>
        <span class="na">inlineMath</span><span class="p">:</span> <span class="p">[[</span><span class="dl">'</span><span class="s1">$</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">$</span><span class="dl">'</span><span class="p">]]</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"</span> <span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span> 
</code></pre></div></div>
<p><a href="https://stackoverflow.com/a/30389289/5986651">Here</a> are ways you wanna do it.</p>

<ol>
  <li>Write between two Dollar signs to get inline output.</li>
</ol>

<p>$\frac{2}{3}$, \(\frac{2}{3}\),</p>

<ol>
  <li>Following gives very neat output and centered:</li>
</ol>

<p>\[ \frac{1}{n^{2}} \]</p>

<ol>
  <li>or suggested. I have always used the dollar sign and it has worked decently.</li>
</ol>

<p>\(a^2 + b^2 = c^2\) –&gt; note that all equations between these tags will not need escaping!</p>

<h3 id="discuss-comments">Discuss comments</h3>

<p>Source: <a href="https://desiredpersona.com/disqus-comments-jekyll/">link 1</a>,</p>

<ol>
  <li>
    <p>You can create different “shortnames” for different sites with the
same account. I have <code class="language-plaintext highlighter-rouge">agent18</code> and <code class="language-plaintext highlighter-rouge">another-name</code>.</p>
  </li>
  <li>
    <p>Find <code class="language-plaintext highlighter-rouge">post.html</code> using <code class="language-plaintext highlighter-rouge">bundle show minima</code> in the right
folder. Copy and past.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Post.html</code> already has this:</p>

    <p><code class="language-plaintext highlighter-rouge">html</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">config.yml</code> add:</p>

    <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="na">disqus</span><span class="pi">:</span>
 <span class="c1"># Leave shortname blank to disable comments site-wide.</span>
 <span class="c1"># Disable comments for any post by adding `comments: false` to that post's YAML Front Matter.</span>
 <span class="na">shortname</span><span class="pi">:</span> <span class="s2">"</span><span class="s">another-name"</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add the <code class="language-plaintext highlighter-rouge">universal code</code> from disqus.</p>
  </li>
  <li>
    <p>Finally paste the <code class="language-plaintext highlighter-rouge">counter-thingy</code> at the end of <code class="language-plaintext highlighter-rouge">post.html</code>. Not
fully sure how to get it working or what exactly it does. But just
wrapped it up.</p>
  </li>
</ol>

<h3 id="changing-repository-name">changing repository name</h3>

<p>Source: <a href="https://stackoverflow.com/a/30443593/5986651">changed repository name</a></p>

<p>Updating local folder with changes on the repository name.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote rm origin
git remote add origin [updated link]
</code></pre></div></div>

<h3 id="adding-a-general-image-to-every-post">adding a general image to every post</h3>
<h3 id="changing-formatting">changing formatting?</h3>
<h2 id="starting-up-with-existing-gh-pages">starting up with <strong>existing</strong> gh-pages</h2>

<p>So I have fastpages setup on the github. Apprently it uses
jekyll… How convinient?</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install git

git clone https://github.com/agent18/agent18.github.io.git myblock

git add -A

git commit -m "empty testing git on new pc"

git config user.email "agent18@github.io"

git config user.name "agent18"

git commit -m "empty testing git on new pc"

git push
</code></pre></div></div>

<p>Might need to do it sometimes on a fresh pc perhaps.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global push.default simple

git config --global credential.helper cache
</code></pre></div></div>

<p>Check with this shows all the important info:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --list
</code></pre></div></div>

<p>That’s it. Git will start working, in combination with jekyll.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve
</code></pre></div></div>

<h2 id="gem-rubygems-bundler-jekyll">Gem, rubygems, bundler, jekyll</h2>

<h3 id="basics">Basics</h3>

<blockquote>
  <p>RubyGems is a package manager for the Ruby programming language that
provides a standard format for distributing Ruby programs and
libraries (in a self-contained format called a “gem”), a tool designed
to easily manage the installation of gems, and a server for
distributing them.—<a href="https://stackoverflow.com/a/5233948/5986651">What is a Ruby Gem</a></p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">Gems</code> seem to be individual <code class="language-plaintext highlighter-rouge">packages</code>. <code class="language-plaintext highlighter-rouge">RubyGems</code> the package manager
like <code class="language-plaintext highlighter-rouge">apt-get</code> I guess. <code class="language-plaintext highlighter-rouge">Bundler</code> is an overarching package manager
giving the seeming feel of <code class="language-plaintext highlighter-rouge">conda</code> and its different
environments. <code class="language-plaintext highlighter-rouge">Bundler</code> allows you to select the “envs” using
<code class="language-plaintext highlighter-rouge">Gemfile.lock</code> and <code class="language-plaintext highlighter-rouge">bundle exec</code> commands.</p>

<p><strong>Gemfile &amp; Gemfile.lock</strong></p>

<p>First time you run <code class="language-plaintext highlighter-rouge">bundle install</code> in a folder where <code class="language-plaintext highlighter-rouge">Gemfile</code> is
installed, you create a file <code class="language-plaintext highlighter-rouge">Gemfile.lock</code>. This file contains all
the packages and dependencies installed verbatim to version number.</p>

<p><strong>Transferring the files</strong></p>

<p>When you hand over someone the whole folder, if that person runs
<code class="language-plaintext highlighter-rouge">bundle install</code> he gets all the exact versions installed as per the
<code class="language-plaintext highlighter-rouge">Gemfile.lock</code> file and not the <code class="language-plaintext highlighter-rouge">Gemfile</code>.</p>

<p><strong>Updating gems</strong></p>

<p>Now when I want to add some other <code class="language-plaintext highlighter-rouge">gems</code> such as a <code class="language-plaintext highlighter-rouge">Javascript
runtime</code>, all I have to do is add this to the <code class="language-plaintext highlighter-rouge">Gemfile</code> (<code class="language-plaintext highlighter-rouge">gem
"therubyracer"</code>) and then <code class="language-plaintext highlighter-rouge">bundle install</code> and only that
<code class="language-plaintext highlighter-rouge">therubyracer</code> is added.</p>

<p>The <code class="language-plaintext highlighter-rouge">env</code> part of <code class="language-plaintext highlighter-rouge">bundler</code> kicks in now. I want to run <code class="language-plaintext highlighter-rouge">jekyll serve</code>
based around the <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> file. So <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve</code>
makes that happen.</p>

<p>The beauty of <code class="language-plaintext highlighter-rouge">bundler</code>, <code class="language-plaintext highlighter-rouge">gems</code> and everything coming together with
the “envs” is explained in <a href="https://bundler.io/v1.12/rationale.html">bundler rationale</a> and summarized in
<a href="https://stackoverflow.com/a/10959764/5986651">this stack answer</a>.</p>

<h3 id="bundler-cant-find-gem-bundler--0a-gemgemnotfoundexception">Bundler: can’t find gem bundler (&gt;= 0.a) (Gem::GemNotFoundException)</h3>

<p><code class="language-plaintext highlighter-rouge">bundle install</code> gives this error:</p>

<p>While installing <a href="https://github.com/fastai/fastpages">fastpages</a> and cloning it to my PC and running it
locally, I got the following error.</p>

<p>As per <a href="https://stackoverflow.com/a/54088452/5986651">this stack answer</a>, did <code class="language-plaintext highlighter-rouge">gem install bundle</code>. I had version
<code class="language-plaintext highlighter-rouge">1.something</code>, but the <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> file had.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>BUNDLED WITH
2.1.4
</code></pre></div></div>

<h3 id="jekyll-could-not-find-a-javascript-runtime-error">Jekyll “Could not find a JavaScript runtime” error</h3>

<p>Once I ran <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve --trace</code> there were no error
messages anymore.</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">: Could not find a JavaScript runtime. See https://github.com/rails/execjs for a list of available runtimes. (ExecJS::RuntimeUnavailable)
</span></code></pre></div></div>

<p>Tried adding <code class="language-plaintext highlighter-rouge">gem "therubyracer"</code> to the <code class="language-plaintext highlighter-rouge">Gemfile</code> which one of the 7
mentioned <a href="https://github.com/rails/execjs">in the error link above</a> and <code class="language-plaintext highlighter-rouge">bundle install</code>. No more
errors with <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve</code></p>

<h3 id="installing-fastpages">Installing fastpages</h3>

<ol>
  <li>clone</li>
  <li>install docker</li>
  <li>sudo make server</li>
</ol>

<p>If you just want to get markdown parts running then the following is
enough: First running <code class="language-plaintext highlighter-rouge">gem install bundle</code> and then doing <code class="language-plaintext highlighter-rouge">bundle
install</code> to install from <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> and then <code class="language-plaintext highlighter-rouge">bundle exec jekyll
serve</code> to use run in the context of the existing bundle.</p>

<h3 id="useful-gem-commands">Useful gem commands</h3>

<p><code class="language-plaintext highlighter-rouge">gem list --local</code> lists current gems installed (including all
versions), i.e., <code class="language-plaintext highlighter-rouge">jekyll (4.1.1, 3.8.7, 3.8.4, 3.8.3)</code>.</p>

<p><code class="language-plaintext highlighter-rouge">gem env</code> lists all the versions things like <code class="language-plaintext highlighter-rouge">rubygems</code> and <code class="language-plaintext highlighter-rouge">bundler</code>
etc…</p>

<h3 id="making-ipnb-notebooks-work-with-docker">Making ipnb notebooks work with Docker</h3>

<p>After installing docker, all I need to do is <code class="language-plaintext highlighter-rouge">make server</code> according
to <a href="https://github.com/fastai/fastpages/blob/master/_fastpages_docs/DEVELOPMENT.md">fastpages</a>.</p>

<p>docker installed all good with make</p>

<p>but when I tried makefile got docker error that <code class="language-plaintext highlighter-rouge">docker-compose</code> is
not there. After that:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">Traceback (most recent call last):
  File "urllib3/connectionpool.py", line 677, in urlopen
  File "urllib3/connectionpool.py", line 392, in _make_request
  File "http/client.py", line 1252, in request
  File "http/client.py", line 1298, in _send_request
  File "http/client.py", line 1247, in endheaders
  File "http/client.py", line 1026, in _send_output
  File "http/client.py", line 966, in send
  File "docker/transport/unixconn.py", line 43, in connect
PermissionError: [Errno 13] Permission denied
</span></code></pre></div></div>

<p>Based on <a href="https://docs.docker.com/compose/install/">this</a></p>

<p>Just use <code class="language-plaintext highlighter-rouge">sudo make server</code> and the rest is ok for now. It takes more
than 5 mins to host… wait patiently? Yes for now.</p>

<p>More info about <a href="https://github.com/fastai/fastpages#customizing-blog-posts-with-front-matter">fast yaml front matter is here</a></p>

<h3 id="instructions-on-already-installed-pc">instructions on already installed PC</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fastblock
sudo make server
</code></pre></div></div>

<p>Wait 5 mins and click on the link it shows.</p>
:ET